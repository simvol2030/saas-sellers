# Landing Builder - План реализации

**Дата создания:** 2025-12-17
**Статус:** В работе

---

## Концепция

**Component-Based Landing Builder** — система для быстрого создания лендингов через:
1. Библиотеку переиспользуемых секций (LEGO-блоки)
2. MD файлы как источник данных
3. Админку для управления контентом и дизайн-системой
4. Настраиваемую дизайн-систему (не хардкод)

---

## Дизайн-система

**Стиль:** Строгий деловой, основной цвет — синий
**Управление:** Через `theme.config.ts` + админка
**Темы:** Светлая / Тёмная

---

## Медиа файлы

**Расположение:** `/data/media/`
```
data/media/
├── images/      # Изображения
├── videos/      # Видео файлы
└── documents/   # Документы (PDF и т.д.)
```

**Загрузка:**
- Напрямую через файловый менеджер сервера
- Через админку (upload API)

---

## Фазы реализации

### ФАЗА 1: Инфраструктура и дизайн-система

**Задачи:**
- [x] Дизайн-система (`theme.config.ts`)
  - CSS переменные (цвета, шрифты, spacing, shadows)
  - Управление через конфиг
  - Светлая/тёмная тема
- [x] Layout система
  - Header (двухуровневое меню, логотип)
  - Footer (колонки, соцсети, копирайт)
  - Настройки layout через MD/JSON
- [x] MD Parser для секций
  - Парсинг frontmatter с секциями
  - Динамический рендеринг компонентов
- [x] API для медиа файлов
  - Upload endpoint
  - Serve static files из `/data/media/`

**Результат:** Базовая инфраструктура готова

---

### ФАЗА 2: Базовые секции

**Компоненты:**
- [ ] **Hero** — главный баннер (фото/видео фон, заголовок, CTA)
- [ ] **HeroMin** — мини-баннер для подстраниц
- [ ] **TextBlock** — текстовый блок с Markdown
- [ ] **Snippet** — фото + текст (позиция настраивается)
- [ ] **CTA** — призыв к действию

**Результат:** Можно собрать простой лендинг

---

### ФАЗА 3: Медиа секции

**Компоненты:**
- [ ] **PhotoGallery** — галерея с lightbox и swipe
- [ ] **PhotoSlider** — слайдер изображений
- [ ] **VideoYouTube** — встроенное YouTube видео
- [ ] **VideoLocal** — локальное видео (autoplay on scroll, muted)
- [ ] **MediaMix** — Instagram-style (фото + видео + текст expand)

**Результат:** Полная поддержка медиа контента

---

### ФАЗА 4: Конверсионные секции

**Компоненты:**
- [ ] **FAQ** — вопросы-ответы (аккордеон)
- [ ] **ContactForm** — форма обратной связи
- [ ] **Pricing** — таблица тарифов
- [ ] **CompareTable** — сравнительная таблица
- [ ] **Testimonials** — отзывы (карточки/слайдер)

**Результат:** Элементы для конверсии

---

### ФАЗА 5: Контентные секции

**Компоненты:**
- [ ] **Features** — преимущества (grid, иконки)
- [ ] **Timeline** — этапы/таймлайн
- [ ] **Stats** — статистика с анимацией
- [ ] **Team** — команда
- [ ] **Partners** — логотипы партнёров

**Результат:** Информационные блоки

---

### ФАЗА 6: Social-style секции

**Компоненты:**
- [ ] **InstagramFeed** — лента Instagram-style
- [ ] **FacebookPost** — пост Facebook-style
- [ ] **Longread** — длинная статья с TOC

**Результат:** Social-style контент

---

### ФАЗА 7: Админка

**Функционал:**
- [ ] **Dashboard** — обзор контента
- [ ] **Layout Editor**
  - Настройка Header (меню, логотип)
  - Настройка Footer
- [ ] **Page Builder**
  - Выбор секций из библиотеки
  - Drag-n-drop порядок
  - Генерация MD шаблона
- [ ] **Media Manager**
  - Загрузка файлов
  - Галерея загруженных
  - Копирование путей
- [ ] **Design System Editor**
  - Цвета
  - Шрифты
  - Spacing
- [ ] **Pages List**
  - Список всех страниц
  - Статус (draft/published)
  - SSG/SSR настройка

**Mobile-friendly:** Адаптивный интерфейс для работы с телефона

**Результат:** Полноценная админка

---

## Структура проекта (целевая)

```
frontend-astro/
├── src/
│   ├── components/
│   │   ├── sections/           # Секции (LEGO-блоки)
│   │   │   ├── Hero.astro
│   │   │   ├── HeroMin.astro
│   │   │   ├── Snippet.astro
│   │   │   ├── FAQ.astro
│   │   │   ├── PhotoGallery.astro
│   │   │   ├── VideoLocal.astro
│   │   │   └── ...
│   │   ├── ui/                 # UI компоненты
│   │   │   ├── Button.astro
│   │   │   ├── Input.astro
│   │   │   └── ...
│   │   └── admin/              # Компоненты админки
│   │       ├── Sidebar.astro
│   │       ├── MediaUploader.astro
│   │       └── ...
│   ├── layouts/
│   │   ├── Base.astro          # Базовый layout
│   │   ├── Landing.astro       # Layout для лендингов
│   │   └── Admin.astro         # Layout для админки
│   ├── pages/
│   │   ├── index.astro
│   │   ├── [...slug].astro     # Динамические страницы
│   │   └── admin/              # Админка
│   │       ├── index.astro
│   │       ├── pages/
│   │       ├── media/
│   │       └── settings/
│   ├── content/
│   │   └── landings/           # MD файлы лендингов
│   ├── lib/
│   │   ├── theme.config.ts     # Дизайн-система
│   │   ├── sections.ts         # Реестр секций
│   │   └── parser.ts           # MD парсер
│   └── styles/
│       ├── theme.css           # CSS переменные
│       └── global.css
│
├── data/
│   ├── db/                     # SQLite база
│   ├── media/                  # Медиа файлы
│   │   ├── images/
│   │   ├── videos/
│   │   └── documents/
│   └── logs/
│
└── backend-hono/
    └── src/
        └── routes/
            ├── media.ts        # Upload/serve медиа
            ├── pages.ts        # CRUD страниц
            └── settings.ts     # Настройки сайта
```

---

## Приоритеты

1. **ФАЗА 1** — без неё ничего не работает
2. **ФАЗА 2** — минимальный функционал
3. **ФАЗА 3** — медиа критично для лендингов
4. **ФАЗА 7** (частично) — базовая админка для удобства
5. **ФАЗА 4-6** — расширение библиотеки

---

## Текущий статус

**Активная фаза:** ФАЗА 1 (завершена) -> ФАЗА 2
**Прогресс:** ~15% (Фаза 1 завершена)

### Что сделано:
- `theme.config.ts` - полная дизайн-система с CSS переменными
- `theme.css` - стили для светлой/тёмной темы
- `Header.astro` - двухуровневое меню с theme toggle
- `Footer.astro` - колонки, соцсети, newsletter
- `parser.ts` - парсер MD с секциями
- `sections.ts` - реестр всех секций
- `Landing.astro` - layout для лендингов
- `media.ts` - API для upload/serve медиа
- Content Collection `landings` - схема для MD файлов
- Пример лендинга `home.md`

---

## Заметки

- SSG/SSR настраивается в frontmatter каждой страницы
- Все компоненты адаптивны (mobile-first)
- Все компоненты поддерживают светлую/тёмную тему
- Дизайн-система управляется централизованно
